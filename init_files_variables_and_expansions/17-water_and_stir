#!/bin/bash
map(){ local s="$1" a="$2" i o=""; for((i=0;i<${#s};i++));do o+=$(expr index "$a" "${s:i:1}" - 1);done; echo "$o";}; to10(){ local n="$1" i d v=0; for((i=0;i<${#n};i++));do d=${n:i:1}; v=$((v*5 + d));done; echo "$v";}; tobase(){ local n=$1 a="bestchol" r o=""; [ "$n" -eq 0 ] && { echo "${a:0:1}"; return; }; while [ "$n" -gt 0 ]; do r=$((n%9)); o="${a:r:1}$o"; n=$((n/9)); done; echo "$o";}; W=$(map "$WATER" "water"); S=$(map "$STIR" "stir."); tobase $(( $(to10 "$W") + $(to10 "$S") ))
